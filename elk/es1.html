<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.20" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>GEN</title><meta name="description" content="积跬步。">
    <link rel="preload" href="/assets/style-CQp7YV5d.css" as="style"><link rel="stylesheet" href="/assets/style-CQp7YV5d.css">
    <link rel="modulepreload" href="/assets/app-D5cJu0df.js"><link rel="modulepreload" href="/assets/es1.html-DfgYS6d3.js">
    <link rel="prefetch" href="/assets/index.html-DobuvI2h.js" as="script"><link rel="prefetch" href="/assets/act1.html-CoIFrE7m.js" as="script"><link rel="prefetch" href="/assets/actControl.html-CPGGj7o0.js" as="script"><link rel="prefetch" href="/assets/actDB.html-CldJF0pL.js" as="script"><link rel="prefetch" href="/assets/actVariable.html-qQj7K7vr.js" as="script"><link rel="prefetch" href="/assets/env.html-BpgpdOoH.js" as="script"><link rel="prefetch" href="/assets/network.html-DPu9ILJr.js" as="script"><link rel="prefetch" href="/assets/docker.html-cWKHV7LE.js" as="script"><link rel="prefetch" href="/assets/dockerAliyun.html-CALBrtF8.js" as="script"><link rel="prefetch" href="/assets/dockerCompose.html-uhm-s5Q0.js" as="script"><link rel="prefetch" href="/assets/k8s.html-DV2K9lpi.js" as="script"><link rel="prefetch" href="/assets/nginx.html-CfHDsMWp.js" as="script"><link rel="prefetch" href="/assets/nginx1.html-DVUOqLho.js" as="script"><link rel="prefetch" href="/assets/heapStackMethod.html-ClkUJPms.js" as="script"><link rel="prefetch" href="/assets/springInAction.html-C5kO9b9E.js" as="script"><link rel="prefetch" href="/assets/ArrayList.html-DxpfCzH9.js" as="script"><link rel="prefetch" href="/assets/BigDecimal.html-Dw4X41y0.js" as="script"><link rel="prefetch" href="/assets/HashMap.html-DcivsPeh.js" as="script"><link rel="prefetch" href="/assets/LinkedList.html-BZ3pC5QD.js" as="script"><link rel="prefetch" href="/assets/Propagation.html-DjUzUnkg.js" as="script"><link rel="prefetch" href="/assets/index.html-DQI8V3Zb.js" as="script"><link rel="prefetch" href="/assets/ServletSourceCode.html-BM9CxYpZ.js" as="script"><link rel="prefetch" href="/assets/String.html-BsOYMDMd.js" as="script"><link rel="prefetch" href="/assets/SynchronizedLock.html-DLROAwFg.js" as="script"><link rel="prefetch" href="/assets/annotation.html-C8hhqrFS.js" as="script"><link rel="prefetch" href="/assets/classloader.html-CYonk4gS.js" as="script"><link rel="prefetch" href="/assets/reflect.html-CnzS71FR.js" as="script"><link rel="prefetch" href="/assets/time.html-CqSqwyAo.js" as="script"><link rel="prefetch" href="/assets/crypto 套利.html-G-Zj4vNQ.js" as="script"><link rel="prefetch" href="/assets/mysql1.html-D7wQaK5K.js" as="script"><link rel="prefetch" href="/assets/adapter.html-DZ_HPdzo.js" as="script"><link rel="prefetch" href="/assets/decorator.html-DTnMFM7l.js" as="script"><link rel="prefetch" href="/assets/factory.html-B8WDx3YK.js" as="script"><link rel="prefetch" href="/assets/observer.html-CtHLuLWH.js" as="script"><link rel="prefetch" href="/assets/singleton.html-aOw-1qqD.js" as="script"><link rel="prefetch" href="/assets/template.html-CD_MfNxn.js" as="script"><link rel="prefetch" href="/assets/elasticJob.html-DMOdbycA.js" as="script"><link rel="prefetch" href="/assets/es0.html-kqSuiEp7.js" as="script"><link rel="prefetch" href="/assets/es2.html-j2eixfWh.js" as="script"><link rel="prefetch" href="/assets/kibana.html-m4r_6Y7m.js" as="script"><link rel="prefetch" href="/assets/verbTenses.html-BKDvZ1rb.js" as="script"><link rel="prefetch" href="/assets/axios.html-DlmtbtjM.js" as="script"><link rel="prefetch" href="/assets/base.html-sx1yTscg.js" as="script"><link rel="prefetch" href="/assets/vuerouter.html-CcK8olbC.js" as="script"><link rel="prefetch" href="/assets/vuex.html-CKOjg3W3.js" as="script"><link rel="prefetch" href="/assets/并发.html-BCouE5jX.js" as="script"><link rel="prefetch" href="/assets/HTTP.html-CClY-aGu.js" as="script"><link rel="prefetch" href="/assets/logback.html-C8QBQuQF.js" as="script"><link rel="prefetch" href="/assets/servlet.html-DGORTgBX.js" as="script"><link rel="prefetch" href="/assets/权限设计.html-CCgfYITH.js" as="script"><link rel="prefetch" href="/assets/AQS.html-CwU5A4In.js" as="script"><link rel="prefetch" href="/assets/CAS.html-DtpCEh5X.js" as="script"><link rel="prefetch" href="/assets/aba.html-CYW7quIe.js" as="script"><link rel="prefetch" href="/assets/blockingQueue.html-DHN3KFls.js" as="script"><link rel="prefetch" href="/assets/collections.html-DPhmo0Mc.js" as="script"><link rel="prefetch" href="/assets/completableFuture.html-h5jPQf1t.js" as="script"><link rel="prefetch" href="/assets/deadLock.html-Cuxu2fec.js" as="script"><link rel="prefetch" href="/assets/executor.html-Ddx1W1H7.js" as="script"><link rel="prefetch" href="/assets/fork.html-B_8h8XIk.js" as="script"><link rel="prefetch" href="/assets/juc.html-UBFZ1K25.js" as="script"><link rel="prefetch" href="/assets/localThread.html-BeuSk-y8.js" as="script"><link rel="prefetch" href="/assets/lock.html-BZiOn2HZ.js" as="script"><link rel="prefetch" href="/assets/lockSupport.html-BpJ3hNu5.js" as="script"><link rel="prefetch" href="/assets/synchronized.html-1Pb1wAVd.js" as="script"><link rel="prefetch" href="/assets/tool.html-C52occs4.js" as="script"><link rel="prefetch" href="/assets/volatile.html-BH1fSdiB.js" as="script"><link rel="prefetch" href="/assets/jvm1.html-BXQb1HgN.js" as="script"><link rel="prefetch" href="/assets/jvm2.html-oJkokVGg.js" as="script"><link rel="prefetch" href="/assets/jvm3.html-E0_bcKLj.js" as="script"><link rel="prefetch" href="/assets/jvm4.html-DQ850L0b.js" as="script"><link rel="prefetch" href="/assets/jvm5.html-Dp1GSCQ0.js" as="script"><link rel="prefetch" href="/assets/k8s基础.html-B9WfBx1h.js" as="script"><link rel="prefetch" href="/assets/kafka1.html-D7fW2SKs.js" as="script"><link rel="prefetch" href="/assets/kafka2.html-BoHeTHte.js" as="script"><link rel="prefetch" href="/assets/kafka3.html-ZQKmiPnn.js" as="script"><link rel="prefetch" href="/assets/0421go.html-B3FGDr0I.js" as="script"><link rel="prefetch" href="/assets/MySQL与InnoDB.html-DJQ6rlA9.js" as="script"><link rel="prefetch" href="/assets/aboutMe.html-Db-W0bq4.js" as="script"><link rel="prefetch" href="/assets/django.html-Pvb5kowj.js" as="script"><link rel="prefetch" href="/assets/es6Trnsferes5.html-py1hy2US.js" as="script"><link rel="prefetch" href="/assets/git.html-CriW5tdX.js" as="script"><link rel="prefetch" href="/assets/lineErr.html-B8Fvse2P.js" as="script"><link rel="prefetch" href="/assets/linux.html-DSCGgiTy.js" as="script"><link rel="prefetch" href="/assets/npm.html-BGHFBEbK.js" as="script"><link rel="prefetch" href="/assets/ubuntu.html-Cy4uPzK2.js" as="script"><link rel="prefetch" href="/assets/vuecli.html-Cdtay3wb.js" as="script"><link rel="prefetch" href="/assets/高性能MYSQL.html-CRNxLZpB.js" as="script"><link rel="prefetch" href="/assets/lru.html-CwKZdwsy.js" as="script"><link rel="prefetch" href="/assets/apollo.html-B4NwPr02.js" as="script"><link rel="prefetch" href="/assets/disconf.html-DtAPEnS5.js" as="script"><link rel="prefetch" href="/assets/dubbo.html-DO36Era0.js" as="script"><link rel="prefetch" href="/assets/kafka.html-FITwxoO3.js" as="script"><link rel="prefetch" href="/assets/zookeeper.html-jE6R5imW.js" as="script"><link rel="prefetch" href="/assets/configurationProperties.html-nUAAOCgK.js" as="script"><link rel="prefetch" href="/assets/listener.html-j3v-BHF6.js" as="script"><link rel="prefetch" href="/assets/profile.html-DRyRHN1X.js" as="script"><link rel="prefetch" href="/assets/springbootRedis.html-NoMwx1dy.js" as="script"><link rel="prefetch" href="/assets/xss.html-BLJ2LP2I.js" as="script"><link rel="prefetch" href="/assets/Redis分布式锁.html-1MIRTKiG.js" as="script"><link rel="prefetch" href="/assets/ZK分布式锁.html-Db-lVFMz.js" as="script"><link rel="prefetch" href="/assets/dis_transcation.html-8WbAX2UH.js" as="script"><link rel="prefetch" href="/assets/explain.html-DmoKavYZ.js" as="script"><link rel="prefetch" href="/assets/innoDB.html-B16WzFUM.js" as="script"><link rel="prefetch" href="/assets/lock.html-BewnU6WL.js" as="script"><link rel="prefetch" href="/assets/mvcc.html-Ct4QZucY.js" as="script"><link rel="prefetch" href="/assets/mysqlIndex.html-CSF5ZjxO.js" as="script"><link rel="prefetch" href="/assets/mysqlLock.html-BfJRlWWK.js" as="script"><link rel="prefetch" href="/assets/sql.html-whu2Ryck.js" as="script"><link rel="prefetch" href="/assets/transcation.html-BUsPwR8v.js" as="script"><link rel="prefetch" href="/assets/数据库分布式锁.html-CK-pUBYE.js" as="script"><link rel="prefetch" href="/assets/vuepress.html-C8M190d8.js" as="script"><link rel="prefetch" href="/assets/node_build_1.html-Zcx81EiB.js" as="script"><link rel="prefetch" href="/assets/redis1.html-vQduM_FB.js" as="script"><link rel="prefetch" href="/assets/redis2.html-Dfmsc3OE.js" as="script"><link rel="prefetch" href="/assets/redis3.html-TvtEGE8q.js" as="script"><link rel="prefetch" href="/assets/redis4.html-CmmWU8_7.js" as="script"><link rel="prefetch" href="/assets/redisQ.html-Cwx0XPQ_.js" as="script"><link rel="prefetch" href="/assets/rb1.html-CRhmShaf.js" as="script"><link rel="prefetch" href="/assets/rb2.html-xLl869An.js" as="script"><link rel="prefetch" href="/assets/rb3.html-C85svrH1.js" as="script"><link rel="prefetch" href="/assets/shell.html-BU3q8m2T.js" as="script"><link rel="prefetch" href="/assets/shell1.html-MEZkGNwp.js" as="script"><link rel="prefetch" href="/assets/solidity_ERC-20.html-BGdNtNjr.js" as="script"><link rel="prefetch" href="/assets/solidity_foundation.html-YsDNcNBk.js" as="script"><link rel="prefetch" href="/assets/applicationContext.html-DwgtrczK.js" as="script"><link rel="prefetch" href="/assets/dispatcherServlet.html-D-ALBXt4.js" as="script"><link rel="prefetch" href="/assets/springAlibaba1.html-BRDq8dYq.js" as="script"><link rel="prefetch" href="/assets/springAlibaba2.html-CJ_1lqcN.js" as="script"><link rel="prefetch" href="/assets/springBootApplication.html-10rPpPEt.js" as="script"><link rel="prefetch" href="/assets/springDataJpa.html-I1WJqfDO.js" as="script"><link rel="prefetch" href="/assets/springInit.html-lntfD4w9.js" as="script"><link rel="prefetch" href="/assets/springcloud1.html-Cr9ZvKCB.js" as="script"><link rel="prefetch" href="/assets/springcloud10.html-DImXRHqj.js" as="script"><link rel="prefetch" href="/assets/springcloud2.html-CR34w_6w.js" as="script"><link rel="prefetch" href="/assets/springcloud3.html-Beylglw9.js" as="script"><link rel="prefetch" href="/assets/springcloud4.html-DIeYs5TW.js" as="script"><link rel="prefetch" href="/assets/springcloud5.html-wcvCeyG1.js" as="script"><link rel="prefetch" href="/assets/springcloud6.html-kRQE0z7P.js" as="script"><link rel="prefetch" href="/assets/springcloud7.html-15Z1lRKj.js" as="script"><link rel="prefetch" href="/assets/springcloud8.html-ChJsVg2L.js" as="script"><link rel="prefetch" href="/assets/springcloud9.html-Css8XrXX.js" as="script"><link rel="prefetch" href="/assets/springcloudms.html-BLLvavRs.js" as="script"><link rel="prefetch" href="/assets/agile.html-BdnYeSMp.js" as="script"><link rel="prefetch" href="/assets/byValue.html-oobfsJJ_.js" as="script"><link rel="prefetch" href="/assets/vue1.html-BanVtr-0.js" as="script"><link rel="prefetch" href="/assets/vue2.html-ica_OB8w.js" as="script"><link rel="prefetch" href="/assets/vue3.html-md6cHRTU.js" as="script"><link rel="prefetch" href="/assets/vue4.html-BA4CpiHK.js" as="script"><link rel="prefetch" href="/assets/springBoot.html-BjVz4xUe.js" as="script"><link rel="prefetch" href="/assets/404.html-T7VusjAx.js" as="script"><link rel="prefetch" href="/assets/setupDevtools-QXEOFQJV-Dd6MrJvg.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><img class="vp-site-logo" src="https://vuejs.press/images/hero.png" alt="GEN"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">GEN</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/" aria-label="主页"><!--[--><!--[--><!--]--><!--]-->主页<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/nav/vuepress.html" aria-label="vuepress"><!--[--><!--[--><!--]--><!--]-->vuepress<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="杂"><span class="title">杂</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="杂"><span class="title">杂</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/knowledge/git.html" aria-label="GIT命令"><!--[--><!--[--><!--]--><!--]-->GIT命令<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/knowledge/django.html" aria-label="python+django"><!--[--><!--[--><!--]--><!--]-->python+django<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/knowledge/vuecli.html" aria-label="vue cli搭建项目"><!--[--><!--[--><!--]--><!--]-->vue cli搭建项目<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/knowledge/es6Trnsferes5.html" aria-label="babel es6转换es5"><!--[--><!--[--><!--]--><!--]-->babel es6转换es5<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/build/dockerAliyun.html" aria-label="docker aliyun配置"><!--[--><!--[--><!--]--><!--]-->docker aliyun配置<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/knowledge/npm.html" aria-label="npm 配置"><!--[--><!--[--><!--]--><!--]-->npm 配置<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/knowledge/linux.html" aria-label="linux 常用命令"><!--[--><!--[--><!--]--><!--]-->linux 常用命令<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/knowledge/ubuntu.html" aria-label="Ubuntu 下Linux 命令"><!--[--><!--[--><!--]--><!--]-->Ubuntu 下Linux 命令<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="link"><span class="title">link</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="link"><span class="title">link</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://github.com/lidagen" aria-label="github" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->github<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://gitee.com/GENDALI" aria-label="gitee" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->gitee<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://blog.csdn.net/ws346348183" aria-label="csdn" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->csdn<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/knowledge/aboutMe.html" aria-label="关于我"><!--[--><!--[--><!--]--><!--]-->关于我<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/" aria-label="主页"><!--[--><!--[--><!--]--><!--]-->主页<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/nav/vuepress.html" aria-label="vuepress"><!--[--><!--[--><!--]--><!--]-->vuepress<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="杂"><span class="title">杂</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="杂"><span class="title">杂</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/knowledge/git.html" aria-label="GIT命令"><!--[--><!--[--><!--]--><!--]-->GIT命令<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/knowledge/django.html" aria-label="python+django"><!--[--><!--[--><!--]--><!--]-->python+django<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/knowledge/vuecli.html" aria-label="vue cli搭建项目"><!--[--><!--[--><!--]--><!--]-->vue cli搭建项目<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/knowledge/es6Trnsferes5.html" aria-label="babel es6转换es5"><!--[--><!--[--><!--]--><!--]-->babel es6转换es5<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/build/dockerAliyun.html" aria-label="docker aliyun配置"><!--[--><!--[--><!--]--><!--]-->docker aliyun配置<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/knowledge/npm.html" aria-label="npm 配置"><!--[--><!--[--><!--]--><!--]-->npm 配置<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/knowledge/linux.html" aria-label="linux 常用命令"><!--[--><!--[--><!--]--><!--]-->linux 常用命令<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/knowledge/ubuntu.html" aria-label="Ubuntu 下Linux 命令"><!--[--><!--[--><!--]--><!--]-->Ubuntu 下Linux 命令<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="link"><span class="title">link</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="link"><span class="title">link</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://github.com/lidagen" aria-label="github" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->github<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://gitee.com/GENDALI" aria-label="gitee" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->gitee<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://blog.csdn.net/ws346348183" aria-label="csdn" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->csdn<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/knowledge/aboutMe.html" aria-label="关于我"><!--[--><!--[--><!--]--><!--]-->关于我<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">java基础 <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/collection/" aria-label="JDK8 函数式编程"><!--[--><!--[--><!--]--><!--]-->JDK8 函数式编程<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/collection/time.html" aria-label="JDK8 新特性之Date-Time"><!--[--><!--[--><!--]--><!--]-->JDK8 新特性之Date-Time<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/collection/ServletSourceCode.html" aria-label="Servlet 源码分析"><!--[--><!--[--><!--]--><!--]-->Servlet 源码分析<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/collection/ArrayList.html" aria-label="ArrayList 源码"><!--[--><!--[--><!--]--><!--]-->ArrayList 源码<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/collection/LinkedList.html" aria-label="LinkedList 源码"><!--[--><!--[--><!--]--><!--]-->LinkedList 源码<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/collection/HashMap.html" aria-label="HashMap 源码"><!--[--><!--[--><!--]--><!--]-->HashMap 源码<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/collection/String.html" aria-label="String 源码"><!--[--><!--[--><!--]--><!--]-->String 源码<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/collection/BigDecimal.html" aria-label="BigDecimal 源码"><!--[--><!--[--><!--]--><!--]-->BigDecimal 源码<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/collection/classloader.html" aria-label="java 类的加载"><!--[--><!--[--><!--]--><!--]-->java 类的加载<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/collection/reflect.html" aria-label="Class 源码"><!--[--><!--[--><!--]--><!--]-->Class 源码<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/collection/SynchronizedLock.html" aria-label="Synchronized锁升级"><!--[--><!--[--><!--]--><!--]-->Synchronized锁升级<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/collection/Propagation.html" aria-label="事务的传播机制"><!--[--><!--[--><!--]--><!--]-->事务的传播机制<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/knowledge/0421go.html" aria-label="knowledge"><!--[--><!--[--><!--]--><!--]-->knowledge<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">JAVA WEB <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/javaweb/servlet.html" aria-label="Java Servlet"><!--[--><!--[--><!--]--><!--]-->Java Servlet<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/javaweb/%E6%9D%83%E9%99%90%E8%AE%BE%E8%AE%A1.html" aria-label="权限设计"><!--[--><!--[--><!--]--><!--]-->权限设计<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/javaweb/logback.html" aria-label="logback日志的链路追踪"><!--[--><!--[--><!--]--><!--]-->logback日志的链路追踪<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">DATABASE <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/mysql/explain.html" aria-label="MySQL EXPLAIN详解"><!--[--><!--[--><!--]--><!--]-->MySQL EXPLAIN详解<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mysql/mysqlIndex.html" aria-label="MySQL 索引"><!--[--><!--[--><!--]--><!--]-->MySQL 索引<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mysql/mysqlLock.html" aria-label="MySQL 表锁、行锁"><!--[--><!--[--><!--]--><!--]-->MySQL 表锁、行锁<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mysql/transcation.html" aria-label="MySQL ACID与transcation"><!--[--><!--[--><!--]--><!--]-->MySQL ACID与transcation<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mysql/dis_transcation.html" aria-label="分布式事务"><!--[--><!--[--><!--]--><!--]-->分布式事务<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mysql/mvcc.html" aria-label="MySQL MVCC机制"><!--[--><!--[--><!--]--><!--]-->MySQL MVCC机制<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mysql/lock.html" aria-label="Mysql 乐观锁与悲观锁"><!--[--><!--[--><!--]--><!--]-->Mysql 乐观锁与悲观锁<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mysql/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81.html" aria-label="分布式锁1 数据库分布式锁"><!--[--><!--[--><!--]--><!--]-->分布式锁1 数据库分布式锁<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mysql/Redis%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81.html" aria-label="分布式锁2 Redis分布式锁"><!--[--><!--[--><!--]--><!--]-->分布式锁2 Redis分布式锁<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mysql/ZK%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81.html" aria-label="分布式锁3 ZK分布式锁"><!--[--><!--[--><!--]--><!--]-->分布式锁3 ZK分布式锁<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">SpringCloud <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/spring/springcloud1.html" aria-label="SpringCloud服务注册中心之Eureka"><!--[--><!--[--><!--]--><!--]-->SpringCloud服务注册中心之Eureka<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/spring/springcloud2.html" aria-label="SpringCloud服务注册中心之Zookeeper"><!--[--><!--[--><!--]--><!--]-->SpringCloud服务注册中心之Zookeeper<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/spring/springcloud3.html" aria-label="SpringCloud服务调用之Ribbon"><!--[--><!--[--><!--]--><!--]-->SpringCloud服务调用之Ribbon<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/spring/springcloud4.html" aria-label="SpringCloud服务调用之OpenFeign"><!--[--><!--[--><!--]--><!--]-->SpringCloud服务调用之OpenFeign<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/spring/springcloud5.html" aria-label="SpringCloud服务降级之Hystrix"><!--[--><!--[--><!--]--><!--]-->SpringCloud服务降级之Hystrix<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/spring/springcloud6.html" aria-label="SpringCloud服务网关之Gateway"><!--[--><!--[--><!--]--><!--]-->SpringCloud服务网关之Gateway<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/spring/springcloud7.html" aria-label="SpringCloud Config分布式配置中心"><!--[--><!--[--><!--]--><!--]-->SpringCloud Config分布式配置中心<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/spring/springcloud8.html" aria-label="SpringCloud服务总线之Bus"><!--[--><!--[--><!--]--><!--]-->SpringCloud服务总线之Bus<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/spring/springcloud9.html" aria-label="SpringCloud消息驱动之Stream"><!--[--><!--[--><!--]--><!--]-->SpringCloud消息驱动之Stream<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/spring/springcloud10.html" aria-label="SpringCloud链路追踪之Sleuth"><!--[--><!--[--><!--]--><!--]-->SpringCloud链路追踪之Sleuth<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/spring/springAlibaba1.html" aria-label="SpringCloud Alibaba Nacos"><!--[--><!--[--><!--]--><!--]-->SpringCloud Alibaba Nacos<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/spring/springAlibaba2.html" aria-label="SpringCloud Alibaba Sentinel"><!--[--><!--[--><!--]--><!--]-->SpringCloud Alibaba Sentinel<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">Spring <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/spring/springSource/springBoot.html" aria-label="SpringBoot"><!--[--><!--[--><!--]--><!--]-->SpringBoot<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/spring/springDataJpa.html" aria-label="Spring-data-jpa入门"><!--[--><!--[--><!--]--><!--]-->Spring-data-jpa入门<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/spring/springcloudms.html" aria-label="SpringCloud问题"><!--[--><!--[--><!--]--><!--]-->SpringCloud问题<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/spring/dispatcherServlet.html" aria-label="dispatcherServlet 源码分析"><!--[--><!--[--><!--]--><!--]-->dispatcherServlet 源码分析<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/spring/springBootApplication.html" aria-label="@SpringBootApplication注解内部实现与原理"><!--[--><!--[--><!--]--><!--]-->@SpringBootApplication注解内部实现与原理<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/spring/springInit.html" aria-label="spring启动初始化初始化"><!--[--><!--[--><!--]--><!--]-->spring启动初始化初始化<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading active collapsible">中间件 <span class="down arrow"></span></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/middleware/zookeeper.html" aria-label="分布式协调服务器Zookeeper"><!--[--><!--[--><!--]--><!--]-->分布式协调服务器Zookeeper<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/middleware/dubbo.html" aria-label="服务治理Dubbo"><!--[--><!--[--><!--]--><!--]-->服务治理Dubbo<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/middleware/apollo.html" aria-label="分布式配置管理平台Apollo"><!--[--><!--[--><!--]--><!--]-->分布式配置管理平台Apollo<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/middleware/kafka.html" aria-label="消息中间件框架Kafka"><!--[--><!--[--><!--]--><!--]-->消息中间件框架Kafka<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/elk/elasticJob.html" aria-label="分布式调度平台ElasticJob"><!--[--><!--[--><!--]--><!--]-->分布式调度平台ElasticJob<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/elk/kibana.html" aria-label="可视化分析工具Kibana"><!--[--><!--[--><!--]--><!--]-->可视化分析工具Kibana<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/elk/es0.html" aria-label="ElacticSearch 基础"><!--[--><!--[--><!--]--><!--]-->ElacticSearch 基础<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/elk/es1.html" aria-label="ElacticSearch进阶"><!--[--><!--[--><!--]--><!--]-->ElacticSearch进阶<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/elk/es2.html" aria-label="ElacticSearch集成"><!--[--><!--[--><!--]--><!--]-->ElacticSearch集成<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">环境部署 <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/build/docker.html" aria-label="应用容器引擎Docker"><!--[--><!--[--><!--]--><!--]-->应用容器引擎Docker<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/build/dockerCompose.html" aria-label="DockerCompose服务编排"><!--[--><!--[--><!--]--><!--]-->DockerCompose服务编排<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/build/nginx.html" aria-label="负载均衡Nginx"><!--[--><!--[--><!--]--><!--]-->负载均衡Nginx<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/build/nginx1.html" aria-label="Nginx的安装配置"><!--[--><!--[--><!--]--><!--]-->Nginx的安装配置<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/k8s/k8s%E5%9F%BA%E7%A1%80.html" aria-label="K8S基础"><!--[--><!--[--><!--]--><!--]-->K8S基础<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">代码片段 <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/mode/listener.html" aria-label="listener 监听模式"><!--[--><!--[--><!--]--><!--]-->listener 监听模式<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mode/springbootRedis.html" aria-label="spingboot 整合redis"><!--[--><!--[--><!--]--><!--]-->spingboot 整合redis<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mode/xss.html" aria-label="XSS过滤"><!--[--><!--[--><!--]--><!--]-->XSS过滤<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mode/profile.html" aria-label="profile的使用"><!--[--><!--[--><!--]--><!--]-->profile的使用<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/mode/configurationProperties.html" aria-label="ConfigurationProperties注解"><!--[--><!--[--><!--]--><!--]-->ConfigurationProperties注解<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">设计模式 <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/design/factory.html" aria-label="工厂模式"><!--[--><!--[--><!--]--><!--]-->工厂模式<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/design/singleton.html" aria-label="单例模式"><!--[--><!--[--><!--]--><!--]-->单例模式<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/design/decorator.html" aria-label="装饰者模式"><!--[--><!--[--><!--]--><!--]-->装饰者模式<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/design/adapter.html" aria-label="适配器模式"><!--[--><!--[--><!--]--><!--]-->适配器模式<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/design/template.html" aria-label="模板方法模式"><!--[--><!--[--><!--]--><!--]-->模板方法模式<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/design/observer.html" aria-label="观察者模式"><!--[--><!--[--><!--]--><!--]-->观察者模式<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">读书笔记 <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/book/springInAction.html" aria-label="《Spring in Action 4》 读书笔记"><!--[--><!--[--><!--]--><!--]-->《Spring in Action 4》 读书笔记<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/knowledge/%E9%AB%98%E6%80%A7%E8%83%BDMYSQL.html" aria-label="《高性能mysql》 读书笔记"><!--[--><!--[--><!--]--><!--]-->《高性能mysql》 读书笔记<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">NoSQL <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/nosql/redis1.html" aria-label="Redis基础 "><!--[--><!--[--><!--]--><!--]-->Redis基础 <!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/nosql/redis2.html" aria-label="Redis高级"><!--[--><!--[--><!--]--><!--]-->Redis高级<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/nosql/redis3.html" aria-label="Redis集群"><!--[--><!--[--><!--]--><!--]-->Redis集群<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/nosql/redis4.html" aria-label="Redis应用"><!--[--><!--[--><!--]--><!--]-->Redis应用<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">MQ <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/rabbitmq/rb1.html" aria-label="rabbitMQ基础"><!--[--><!--[--><!--]--><!--]-->rabbitMQ基础<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/rabbitmq/rb2.html" aria-label="rabbitMQ高级"><!--[--><!--[--><!--]--><!--]-->rabbitMQ高级<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/rabbitmq/rb3.html" aria-label="rabbitMQ集群"><!--[--><!--[--><!--]--><!--]-->rabbitMQ集群<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">JVM <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/jvm/jvm1.html" aria-label="JVM体系架构概述 "><!--[--><!--[--><!--]--><!--]-->JVM体系架构概述 <!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/jvm/jvm2.html" aria-label="堆参数调整"><!--[--><!--[--><!--]--><!--]-->堆参数调整<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/jvm/jvm3.html" aria-label="GC 分代收集算法"><!--[--><!--[--><!--]--><!--]-->GC 分代收集算法<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/jvm/jvm5.html" aria-label="JVM 垃圾回收器"><!--[--><!--[--><!--]--><!--]-->JVM 垃圾回收器<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/jvm/jvm4.html" aria-label="JVM 相关问题"><!--[--><!--[--><!--]--><!--]-->JVM 相关问题<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">JUC <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/juc/juc.html" aria-label="JUC总览"><!--[--><!--[--><!--]--><!--]-->JUC总览<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/juc/volatile.html" aria-label="volatile关键字"><!--[--><!--[--><!--]--><!--]-->volatile关键字<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/juc/CAS.html" aria-label="CAS"><!--[--><!--[--><!--]--><!--]-->CAS<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/juc/aba.html" aria-label="ABA问题"><!--[--><!--[--><!--]--><!--]-->ABA问题<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/juc/collections.html" aria-label="collections包下线程安全的集合类"><!--[--><!--[--><!--]--><!--]-->collections包下线程安全的集合类<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/juc/lock.html" aria-label="Lock 锁"><!--[--><!--[--><!--]--><!--]-->Lock 锁<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/juc/lockSupport.html" aria-label="LockSupport"><!--[--><!--[--><!--]--><!--]-->LockSupport<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/juc/AQS.html" aria-label="AQS"><!--[--><!--[--><!--]--><!--]-->AQS<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/juc/fork.html" aria-label="Fork/Join分支框架"><!--[--><!--[--><!--]--><!--]-->Fork/Join分支框架<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/juc/tool.html" aria-label="JUC tools"><!--[--><!--[--><!--]--><!--]-->JUC tools<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/juc/blockingQueue.html" aria-label="BlockingQueue 阻塞队列"><!--[--><!--[--><!--]--><!--]-->BlockingQueue 阻塞队列<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/juc/executor.html" aria-label="Executor 线程池"><!--[--><!--[--><!--]--><!--]-->Executor 线程池<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/juc/completableFuture.html" aria-label="CompletableFuture"><!--[--><!--[--><!--]--><!--]-->CompletableFuture<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/juc/deadLock.html" aria-label="死锁以及问题定位分析"><!--[--><!--[--><!--]--><!--]-->死锁以及问题定位分析<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">Shell <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/shell/shell.html" aria-label="shell命令"><!--[--><!--[--><!--]--><!--]-->shell命令<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/shell/shell1.html" aria-label="shell基础"><!--[--><!--[--><!--]--><!--]-->shell基础<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">Activiti <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/activiti/act1.html" aria-label="IDEA下的Activiti HelloWord"><!--[--><!--[--><!--]--><!--]-->IDEA下的Activiti HelloWord<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/activiti/actDB.html" aria-label="流程定义的CRUD"><!--[--><!--[--><!--]--><!--]-->流程定义的CRUD<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/activiti/actControl.html" aria-label="流程实例的执行"><!--[--><!--[--><!--]--><!--]-->流程实例的执行<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/activiti/actVariable.html" aria-label="流程变量"><!--[--><!--[--><!--]--><!--]-->流程变量<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">VUE <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/base.html" aria-label="vue基础"><!--[--><!--[--><!--]--><!--]-->vue基础<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/vuerouter.html" aria-label="vue router"><!--[--><!--[--><!--]--><!--]-->vue router<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/vuex.html" aria-label="Vuex"><!--[--><!--[--><!--]--><!--]-->Vuex<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/axios.html" aria-label="Axios 跨域"><!--[--><!--[--><!--]--><!--]-->Axios 跨域<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/vue/vue1.html" aria-label="dialog 弹出框使用"><!--[--><!--[--><!--]--><!--]-->dialog 弹出框使用<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/vue/vue2.html" aria-label="vue 动态刷新页面"><!--[--><!--[--><!--]--><!--]-->vue 动态刷新页面<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/vue/vue3.html" aria-label="vue 封装分页组件"><!--[--><!--[--><!--]--><!--]-->vue 封装分页组件<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/vue/vue4.html" aria-label="vue 动态菜单"><!--[--><!--[--><!--]--><!--]-->vue 动态菜单<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/vue/byValue.html" aria-label="vue 常用传值"><!--[--><!--[--><!--]--><!--]-->vue 常用传值<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">Solidity 智能合约 <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/solidity/solidity_foundation.html" aria-label="Solidity 基础"><!--[--><!--[--><!--]--><!--]-->Solidity 基础<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/solidity/solidity_ERC-20.html" aria-label="Solidity ERC-20"><!--[--><!--[--><!--]--><!--]-->Solidity ERC-20<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">English <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/english/verbTenses.html" aria-label="时态"><!--[--><!--[--><!--]--><!--]-->时态<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div><h2 id="elacticsearch进阶" tabindex="-1"><a class="header-anchor" href="#elacticsearch进阶"><span>ElacticSearch进阶</span></a></h2><h3 id="集群部署" tabindex="-1"><a class="header-anchor" href="#集群部署"><span>集群部署</span></a></h3><ul><li>集群提供可扩展的容量，且高可用，并发处理高，生产环境应用运行在集群中</li></ul><h4 id="windows集群" tabindex="-1"><a class="header-anchor" href="#windows集群"><span>Windows集群</span></a></h4><h4 id="linux集群" tabindex="-1"><a class="header-anchor" href="#linux集群"><span>Linux集群</span></a></h4><h3 id="es核心" tabindex="-1"><a class="header-anchor" href="#es核心"><span>ES核心</span></a></h3><h4 id="接近实时-nrt" tabindex="-1"><a class="header-anchor" href="#接近实时-nrt"><span>接近实时 NRT</span></a></h4><ul><li>ES是一个接近实时的搜索平台，这意味着，从索引一个文档直到这个文档能够被搜索到有一个轻微的延迟（1s以内）</li></ul><h4 id="集群-cluster" tabindex="-1"><a class="header-anchor" href="#集群-cluster"><span>集群 cluster</span></a></h4><ul><li>一个集群就是由一个或者多个节点组织一起的，它们共同持有整个数据，并提供索引和搜索功能。一个集群由一个唯一的名字来标识，这个名字默认‘elactisearch’,这个名字是重要的，因为节点的加入必须指定某个集群的名字。</li></ul><h4 id="节点-node" tabindex="-1"><a class="header-anchor" href="#节点-node"><span>节点 node</span></a></h4><ul><li>集群包含多个节点，它参与集群的索引和搜索功能</li><li>节点也是有名称的，默认情况下是一个随机的漫威角色名，这个名字会在节点启动时赋予。节点名称对于管理也是重要的，在管理过程中，需要确定网络中哪些服务器对于集群中的哪些节点。</li><li>一个节点可以通过配置集群名称加入集群，如果你启动了若干节点，并假定它们彼此互相发现，那么它们就自动的形成并加入集群中。</li></ul><h4 id="分片-shards" tabindex="-1"><a class="header-anchor" href="#分片-shards"><span>分片 shards</span></a></h4><ul><li>分片： <ul><li>分片就是，有一个大的索引，单节点没有这么大容量或者放单节点上处理搜索很慢，为了解决这个问题，es设置分片，允许一个索引放置在多个节点上。</li><li>分片很重要，主要的原因有两个：1）允许你水平分割/拓展你的内容容量 2）允许你分片(潜在地位于多个节点上)之上进行分布式，并行的操作，提高吞吐量</li></ul></li></ul><h4 id="副本-replicas" tabindex="-1"><a class="header-anchor" href="#副本-replicas"><span>副本 replicas</span></a></h4><ul><li>在一个网络、云环境中，失败随时可能发生，在某个分片/节点挂掉时，有一个故障转移机制是非常有用的</li></ul><ul><li>某个节点挂了，有一个故障转移很重要。为此目的，ES允许你创建分片的一份或多份拷贝，这些拷贝叫做复制分片，或者复制</li><li>复制很重要，主要的原因有两个：1）在节点失败的情况下，提供了高可用 2）拓展搜索量/吞吐量</li><li>复制不与原分片/主要分片置于同一节点是重要的</li></ul><h4 id="分配-allocation" tabindex="-1"><a class="header-anchor" href="#分配-allocation"><span>分配 allocation</span></a></h4><ul><li>将分片分配给某个节点的过程，包括分配主分片或者副本。如果是副本，还包含从主分片复制数据的过程。这个过程是由master节点完成的</li></ul><h4 id="系统架构" tabindex="-1"><a class="header-anchor" href="#系统架构"><span>系统架构</span></a></h4><img src="/es/es.png" alt="dock"><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># 假设我们设置一个users的索引,设置三个分片，每个分片对应一个副本</span></span>
<span class="line"><span class="token function">curl</span> <span class="token parameter variable">-XPUT</span> <span class="token string">&quot;http://localhost:9200/users/_settings&quot;</span> -d<span class="token string">&#39;</span>
<span class="line">{</span>
<span class="line">  &quot;settings&quot;:{</span>
<span class="line">    &quot;number_of_shards:&quot;: 3,</span>
<span class="line">    &quot;number_of_replicas&quot;: 1</span>
<span class="line">  }</span>
<span class="line">}</span>
<span class="line">&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="故障转移" tabindex="-1"><a class="header-anchor" href="#故障转移"><span>故障转移</span></a></h4><ul><li>当集群只有一个节点时，意味着会有单点故障问题。 <ul><li>当你在同一台集群启动另一个节点，只要第二个节点具有相同的cluster.name,它会自动发现加入。</li><li>在不同机器上启动节点，为了加入集群，需要配置一个可连接到单播主机列表。之所以配置为使用单播发现，是防止其它节点无意中加入集群</li></ul></li></ul><h4 id="水平扩容" tabindex="-1"><a class="header-anchor" href="#水平扩容"><span>水平扩容</span></a></h4><ul><li>水平扩容，当启动三个节点，为了分散负载会对分片进行重新分片 <ul><li>如果是一个或两个节点，三个分片每个节点都会有，当节点为三个，则三个分片会两两分配到三个节点上，保证每个节点上，任意一个分片异常，都有别的节点上副本提供备用</li></ul></li></ul><div class="hint-container tip"><p class="hint-container-title">Tips</p><ul><li>假设三个分片0、1、2，三个节点A、B、C <ul><li>A节点上分片 0、1</li><li>B节点上分片 0、2</li><li>C节点上分片 1、2</li></ul></li></ul></div><ul><li><p>分片是一个功能完整的搜索引擎，它拥有使用的一个节点上所有资源的能力。我们现在拥有6个节点（3主分片，3副本分片）的索引最大可扩展到6个节点，每个节点上一个分片，并且每个分片拥有所在节点的全部资源。</p></li><li><p>如果我们想扩容超过6个节点怎么办？</p><ul><li>主分片数目在索引创建时已经确定了（不可变），只有3个。这个定义的数目已经确定了数据存储的最大量（取决数据大小、硬件大小、使用场景）。但是读操作，是可以同时从主分片和副本分片处理。意味着，你可以扩展大的副本节点，使吞吐量变大</li></ul></li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment">#条件副本分片为2，即三个分片拥有6个副本</span></span>
<span class="line"><span class="token function">curl</span> <span class="token parameter variable">-XPUT</span> <span class="token string">&quot;http://localhost:9200/users/_settings&quot;</span> -d<span class="token string">&#39;</span>
<span class="line">{</span>
<span class="line">  &quot;number_of_replicas&quot;:2</span>
<span class="line">}</span>
<span class="line">&#39;</span></span>
<span class="line"><span class="token comment"># 这种情况下，极限节点数就是9台，3主+6副本</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="应对故障" tabindex="-1"><a class="header-anchor" href="#应对故障"><span>应对故障</span></a></h4><ul><li>假设从Node挂掉，只会影响分片数，不会影响数据的CRUD。从节点恢复以后，继续加入主节点</li><li>如果主Node挂掉，其它从Node会选举一个主Node,也不会影响数据的CRUD。挂掉的节点再加入就变成了从Node</li></ul><h4 id="es的数据写入和读取" tabindex="-1"><a class="header-anchor" href="#es的数据写入和读取"><span>ES的数据写入和读取</span></a></h4><ul><li><p>写入</p><ul><li>客户端选择一个 node 发送请求过去，这个 node 就是 <code>coordinating node</code>（协调节点）</li><li><code>coordinating node</code> 对 document 进行<strong>路由</strong>，将请求转发给对应的 node（primary shard）。</li><li>实际的 node 上的 <code>primary shard</code> 处理请求，然后将数据同步到 <code>replica node</code>。</li><li><code>coordinating node</code> 如果发现 <code>primary node</code> 和所有 <code>replica node</code> 都搞定之后，就返回响应结果给客户端。</li><li>写入数据，判断写入哪个主分片叫做路由计算 ：hash(id)%主分片数</li></ul></li><li><p>读取</p><ul><li>可以通过 <code>doc id</code> 来查询，会根据 <code>doc id</code> 进行 hash，判断出来当时把 <code>doc id</code> 分配到了哪个 shard 上面去，从那个 shard 去查询</li><li>客户端发送请求到<strong>任意</strong>一个 node，成为 <code>coordinate node</code>。</li><li><code>coordinate node</code> 对 <code>doc id</code> 进行哈希路由，将请求转发到对应的 node，此时会使用 <code>round-robin</code> <strong>随机轮询算法</strong>，在 <code>primary shard</code> 以及其所有 replica 中随机选择一个，让读请求负载均衡。</li><li>接收请求的 node 返回 document 给 <code>coordinate node</code>。</li><li><code>coordinate node</code> 返回 document 给客户端。</li></ul></li></ul><h4 id="倒排索引结构" tabindex="-1"><a class="header-anchor" href="#倒排索引结构"><span>倒排索引结构</span></a></h4><ul><li>前面提过，倒排索引就是根据value找key,为此我们举个例子 <ul><li>假设有个users索引，它有四个字段，分别是name|gender|age|address。画出来大概是个这个样子，以关系型数据库一样</li></ul></li></ul><p>id | name | gender | age | address</p><ul><li>| :-: | :-: | :-: | -: 1 | 张三 | 1 | 22 | 宝鸡市陈仓区 2 | 李四 | 2 | 21 | 西安市长安区<br> 3 | 王五 | 1 | 23 | 西安市雁塔区</li></ul><ul><li><p><code>Term单词</code>：一段文本经过分析器分析后输出的一串单词，就是一个个的Term</p></li><li><p><code>Term Dictionary字典</code>：顾名思义，就是保存Term的字典。</p></li><li><p><code>Posting List倒排列表</code>：记录出现过某个Term的所有Documents文档列表以及该Term在文档位置,每条记录都称为一个倒排项Posting</p><ul><li><em>实际的Posting List不仅仅保存文档ID这么简单，还保存了其它信息，比如次频、偏移量等</em></li></ul></li><li><p><code>Term Index单词索引</code>：为了更好找到某个单词，我们为Term单词建立索引</p></li><li><p>上面的例子，ES建立的索引大致如下：</p></li></ul><ul><li>name字段</li></ul><p>Term | Posting List |</p><ul><li><p>| :-: | :-: | :-: | -: 张三 | 1 | 李四 | 2 | 王五 | 3 |</p><ul><li>age字段</li></ul></li></ul><p>Term | Posting List |</p><ul><li><p>| :-: | :-: | :-: | -: 21 | 2 | 22 | 1 | 23 | 3 |</p><ul><li>gender字段</li></ul></li></ul><p>Term | Posting List |</p><ul><li><p>| :-: | :-: | :-: | -: 1 | [1,3] | 2 | 1 |</p><ul><li>address字段</li></ul></li></ul><p>Term | Posting List |</p><ul><li>| :-: | :-: | :-: | -: 宝鸡市 | 1 | 西安市 | [2,3] |<br> 陈仓区 | 1 |<br> 雁塔区 | 3 |<br> 长安区 | 2 |</li></ul><ul><li>ES会为每个字段都建立一个<strong>倒排索引</strong>，上面的张三、西安市、22都是Term,而[2，3]就是Posting List，存储了所有符合某个Term的文档ID</li><li>如何根据关键词找到Term？这就需要给Term建立索引，类似MySQL的B+Tree结构</li><li>倒排索引中，我们根据Term索引可以找到Term在Term Dictionary的位置，进而找到Posting List,然后找到 Documents的ID <ul><li><em>类比MySQL,Term Index可以理解为索引,Term Dictionary理解为数据</em></li></ul></li></ul><h4 id="文档搜索" tabindex="-1"><a class="header-anchor" href="#文档搜索"><span>文档搜索</span></a></h4><ul><li>早期全文检索会为整个文档Documents建立一个很大的倒排索引并写入磁盘，一旦新的索引就绪，旧的会被替换，这样保证最近的变化可以被检索到</li><li>倒排索引写入磁盘后是不可改变的，目的如下： <ul><li>不需要锁，因为没有写入，就只有读</li><li>索引被读入内核文件缓存，大部分的请求直接访问缓存，不会命中磁盘</li><li>其它缓存（filter缓存），在索引生命周期内始终有效，不需要每次数据改变被重建</li><li>写入单个大的倒排索引允许数据压缩，减少磁盘I/O和需要被缓存到内存的使用量</li></ul></li><li>当然不变的倒排索引也有缺点，即创建后，如果要修改，就需要重建整个倒排索引，如果更新频率高，则性能有很大影响</li><li>如何保证不变性前提下实现倒排索引更新？ <ul><li>答案是：建立更多的倒排索引，即通过创建新的倒排索引来补充修改的内容，而不是直接全部重写。每个倒排索引都会被查询，合并后返回</li></ul></li><li>逻辑删除：这样的话，一个倒排索引就可能包含多段，既然段不可改变，删除的数据也是不能真正在磁盘中删除的。所以我们会对删除的数据进行标记（逻辑删除）。这个缺点就会导致无效数据量可能累计过大。</li><li>合并：解决一个倒排索引中多个段无效数据过多的问题，对数据进行整理合并。</li></ul><h4 id="文档刷新-文档刷写-文档合并" tabindex="-1"><a class="header-anchor" href="#文档刷新-文档刷写-文档合并"><span>文档刷新&amp;文档刷写&amp;文档合并</span></a></h4><ul><li>近实时搜索： <ul><li>随着按段（per-segment）搜索的发展，提交Commiting一个新的段到磁盘需要一个<code>fsync</code>来确保数据写入磁盘。保证数据不丢失。但是这个操作代价很大，如果每个索引都执行一次开销很大。</li></ul><ul><li>我们有更轻量化方式使文档可被搜索。即修改的内容先在内存缓存区OS Cache中被写入一个新的段中。然后再被刷新到磁盘。到磁盘这一步代价较高，不过文件以及在缓存区OS Cache中了，就已经可以被读取。保证了近实时。</li><li>内存中数据写入到OS Cache过程叫refresh，效率很高。进入以后就可以提供给用户查询了，而写入磁盘的flush较慢。flush中包含了文档的合并</li></ul></li></ul><div class="hint-container tip"><p class="hint-container-title">Tips</p><ul><li>数据写入磁盘，协调节点找到主分片，并发写入副本分片 <ul><li>延时：主分片的延时+并行写入副本的最大延时</li></ul></li></ul></div><h4 id="文档分析" tabindex="-1"><a class="header-anchor" href="#文档分析"><span>文档分析</span></a></h4><ul><li><p>文档分析包含以下过程</p><ul><li>将一个词条分成合适的倒排索引独立的Term</li><li>将这些词条统一化成标准格式提高可搜索性</li></ul></li><li><p>以上操作由分析器来操作，分析器实际是将三个操作封装到包里：</p><ul><li>字符过滤器：字符串按顺序通过每个字符过滤器。它们任务是在分词前整理字符串。一个字符过滤器可以用来去掉HTML、或者将&amp;转化成and</li><li>分词器：字符串会被分词器分为单个的Term,一个简单的分词器遇到空格或者标点时，可能会对文本拆分</li><li>Token过滤器：词条按顺序通过Token过滤器，这个过程可能会改变词条（例如，Like变小写），删除词条（例如a、the、and无效词条），或者增加词条（例如，jump和leap这种同义词）</li></ul></li><li><p>内置分词器</p><ul><li>ES提供了一些预装的分词器，主要的如下： <ul><li>标准分词器：这是ES的默认分词器。它分析各种语言最常用文本选择，删除绝大部分标点，将词条小写。</li><li>简单分词器：在任何不是字母的地方进行分隔，词条小写</li><li>空格分词器：在空格的地方分词</li><li>语言分析器：特定语言分析器可用于多种语言，它可以考虑语言特点，例如分析英语中无效的a\the\and等</li></ul></li></ul></li><li><p>分析器使用场景</p><ul><li>当我们索引一个文档，它的全文域会被分析成Term来创建倒排索引。但当我们用全文域搜索时。需要将查询字符串通过相同的分析过程，以保证我们搜索词条格式和索引中Term一致</li></ul></li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># 检测分词器分词效果</span></span>
<span class="line"><span class="token function">curl</span> <span class="token parameter variable">-XGET</span> <span class="token string">&quot;http://localhost:9200/_analyze&quot;</span> -d<span class="token string">&#39;</span>
<span class="line">{</span>
<span class="line">	&quot;analyzer&quot;:&quot;standard&quot;,</span>
<span class="line">	&quot;text&quot;:&quot;Text to analyze&quot;</span>
<span class="line">}</span>
<span class="line">&#39;</span></span>
<span class="line"><span class="token comment"># 返回结果中token是实际存储的Term,position记录Term在原始文本的位置，start_offset\end_offset记录偏移量</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>指定分析器IK <ul><li>中文分词，采用IK分词器，下载地址 https://github.com/medcl/elasticsearch-analysis-ik/releases?after=v7.8.0</li><li>解压文件放入ES根目录下plugins目录下，重启ES</li></ul></li><li>测试效果</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># ik_max_word将文本拆成最细粒度的</span></span>
<span class="line"><span class="token function">curl</span> <span class="token parameter variable">-XGET</span> <span class="token string">&quot;http://localhost:9200/_analyze&quot;</span> -d<span class="token string">&#39;</span>
<span class="line">{</span>
<span class="line">	&quot;analyzer&quot;:&quot;ik_max_word&quot;,</span>
<span class="line">	&quot;text&quot;:&quot;中国人&quot;</span>
<span class="line">}</span>
<span class="line">&#39;</span></span>
<span class="line"><span class="token comment"># ik_max_word中Term会分为`中国人` `中国` `国人`</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#ik_smart 将文本最粗粒度拆分</span></span>
<span class="line"><span class="token function">curl</span> <span class="token parameter variable">-XGET</span> <span class="token string">&quot;http://localhost:9200/_analyze&quot;</span> -d<span class="token string">&#39;</span>
<span class="line">{</span>
<span class="line">	&quot;analyzer&quot;:&quot;ik_smart&quot;,</span>
<span class="line">	&quot;text&quot;:&quot;中国人&quot;</span>
<span class="line">}</span>
<span class="line">&#39;</span></span>
<span class="line"><span class="token comment">#ik_smart中Term只有一个就是`中国人` </span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ES也可以自己对分词进行扩展 <ul><li>进入ES的plugins目录的ik文件夹，进入config目录，创建custome.dic文件，写入自定义分词</li><li>打开IKAnalyzer.cfg.xml文件，将新建custom.dic配置其中，然后重启ES</li></ul></li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token operator">&lt;</span>?xml <span class="token assign-left variable">version</span><span class="token operator">=</span><span class="token string">&quot;1.0&quot;</span> <span class="token assign-left variable">encoding</span><span class="token operator">=</span><span class="token string">&quot;UTF-8&quot;</span>?<span class="token operator">&gt;</span></span>
<span class="line"><span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE properties SYSTEM <span class="token string">&quot;http://java.sun.com/dtd/properties.dtd&quot;</span><span class="token operator">&gt;</span></span>
<span class="line"><span class="token operator">&lt;</span>properties<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>comment<span class="token operator">&gt;</span>IK Analyzer 扩展配置<span class="token operator">&lt;</span>/comment<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span><span class="token operator">!</span>--用户可以在这里配置自己的扩展字典 --<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>entry <span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;ext_dict&quot;</span><span class="token operator">&gt;</span>custom.dic<span class="token operator">&lt;</span>/entry<span class="token operator">&gt;</span></span>
<span class="line">     <span class="token operator">&lt;</span><span class="token operator">!</span>--用户可以在这里配置自己的扩展停止词字典--<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>entry <span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;ext_stopwords&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>/entry<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span><span class="token operator">!</span>--用户可以在这里配置远程扩展字典 --<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span><span class="token operator">!</span>-- <span class="token operator">&lt;</span>entry <span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;remote_ext_dict&quot;</span><span class="token operator">&gt;</span>words_location<span class="token operator">&lt;</span>/entry<span class="token operator">&gt;</span> --<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span><span class="token operator">!</span>--用户可以在这里配置远程扩展停止词字典--<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span><span class="token operator">!</span>-- <span class="token operator">&lt;</span>entry <span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;remote_ext_stopwords&quot;</span><span class="token operator">&gt;</span>words_location<span class="token operator">&lt;</span>/entry<span class="token operator">&gt;</span> --<span class="token operator">&gt;</span></span>
<span class="line"><span class="token operator">&lt;</span>/properties<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="文档控制" tabindex="-1"><a class="header-anchor" href="#文档控制"><span>文档控制</span></a></h4><ul><li>文档冲突：当我们使用index API更新文档，可以一次性读取原始文档，做修改。然后重新索引整个文档。最后的索引请求将被执行。如果同时他人也在更改整个文档，他们的更改会丢失。</li><li>如果是全量更新，最终执行的是一个人的修改数据。如果是局部更新，可能A成员改了a部分数据，B成员改了b部分数据，这就有问题了。</li><li>悲观并发控制：这种方式在关系型数据库被广泛使用，简单来说就是操作数据时，对资源加锁</li><li>乐观并发控制：ES假设这种冲突不太可能发生，并且不会阻塞数据操作。如果源数据读写过程中被修改，更新将会失败，应用程序将决定如何处理失败。例如尝试更新、使用新的数据，或者将问题报告给用户 。 <ul><li>put文档时，会返回<code>_seq_no</code>和<code>_primary_term</code>字段，用来做乐观锁（老版本用version）</li></ul></li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">curl</span> <span class="token parameter variable">-XPOST</span> <span class="token string">&quot;http://localhost:9200/shopping/_doc/1001?if_seq_no=0&amp;if_primary_term=1&quot;</span> -d<span class="token string">&#39;</span>
<span class="line">{</span>
<span class="line">	&quot;name&quot;:&quot;华为&quot;,</span>
<span class="line">	&quot;price&quot;:&quot;4999&quot;</span>
<span class="line">}</span>
<span class="line">&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#还有一种用version的方式，即你的version需要大于文档的version</span></span>
<span class="line"><span class="token function">curl</span> <span class="token parameter variable">-XPOST</span> <span class="token string">&quot;http://localhost:9200/shopping/_doc/1001?version=3&amp;version_type=external&quot;</span> -d<span class="token string">&#39;</span>
<span class="line">{</span>
<span class="line">	&quot;name&quot;:&quot;华为&quot;,</span>
<span class="line">	&quot;price&quot;:&quot;4999&quot;</span>
<span class="line">}</span>
<span class="line">&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="文档展示-kibana" tabindex="-1"><a class="header-anchor" href="#文档展示-kibana"><span>文档展示-kibana</span></a></h4><ul><li>下载安装kibana</li><li>修改配置config/kibana.yml文件</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment">#默认端口</span></span>
<span class="line">server.port:5601</span>
<span class="line"><span class="token comment">#配置ES服务器地址</span></span>
<span class="line">elasticsearch.hosts:<span class="token punctuation">[</span><span class="token string">&quot;http://localhost:9200&quot;</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token comment">#索引名</span></span>
<span class="line">kibana.index:<span class="token string">&quot;.kibana&quot;</span></span>
<span class="line"><span class="token comment">#支持中文</span></span>
<span class="line">i18n.locale:<span class="token string">&quot;zh-CN&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: github73256897">wal365@126.com</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/elk/es0.html" aria-label="ElacticSearch 基础"><!--[--><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span class="external-link">ElacticSearch 基础</span></div><!--]--></a><a class="route-link auto-link next" href="/elk/es2.html" aria-label="ElacticSearch集成"><!--[--><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span class="external-link">ElacticSearch集成</span></div><!--]--></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-D5cJu0df.js" defer></script>
  </body>
</html>
