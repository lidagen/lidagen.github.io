{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{239:function(t,a,n){\"use strict\";n.r(a);var s=n(0),e=Object(s.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[n(\"h2\",{attrs:{id:\"springcloud-config-分布式配置中心\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#springcloud-config-分布式配置中心\"}},[t._v(\"#\")]),t._v(\" SpringCloud Config -分布式配置中心\")]),t._v(\" \"),n(\"h3\",{attrs:{id:\"springcloud-config-概述\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#springcloud-config-概述\"}},[t._v(\"#\")]),t._v(\" SpringCloud Config 概述\")]),t._v(\" \"),n(\"h4\",{attrs:{id:\"springcloud-config是什么\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#springcloud-config是什么\"}},[t._v(\"#\")]),t._v(\" SpringCloud Config是什么\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[n(\"p\",[t._v(\"config是SpringCloud提供的集中化外部配置支持，配置服务器为各个不同微服务应用的所有环境提供了一个中心化的外部配置。\")])]),t._v(\" \"),n(\"li\",[n(\"p\",[t._v(\"类似携程Apollo\")])])]),t._v(\" \"),n(\"h4\",{attrs:{id:\"能干什么\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#能干什么\"}},[t._v(\"#\")]),t._v(\" 能干什么\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[n(\"p\",[t._v(\"集中管理配置文件\")])]),t._v(\" \"),n(\"li\",[n(\"p\",[t._v(\"不同环境的不同配置，动态化的配置更新\")])]),t._v(\" \"),n(\"li\",[n(\"p\",[t._v(\"运行期间动态调整的数据，可以放在配置中心，且不需要重启即可感知新的配置\")])]),t._v(\" \"),n(\"li\",[n(\"p\",[t._v(\"将配置信息REST接口形式暴露\")])])]),t._v(\" \"),n(\"h3\",{attrs:{id:\"springcloud-config的server构建\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#springcloud-config的server构建\"}},[t._v(\"#\")]),t._v(\" SpringCloud Config的server构建\")]),t._v(\" \"),n(\"h4\",{attrs:{id:\"github上新建一个项目，用来放置这些配置的数据\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#github上新建一个项目，用来放置这些配置的数据\"}},[t._v(\"#\")]),t._v(\" github上新建一个项目，用来放置这些配置的数据\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"地址为 https://github.com/lidagen/cloud-config.git\")]),t._v(\" \"),n(\"li\",[t._v(\"新建两个yml ,分别为\"),n(\"code\",[t._v(\"application-dev.yml\")]),t._v(\" \"),n(\"code\",[t._v(\"application-prd.yml\")])])]),t._v(\" \"),n(\"h4\",{attrs:{id:\"新建一个端口3344的项目\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#新建一个端口3344的项目\"}},[t._v(\"#\")]),t._v(\" 新建一个端口3344的项目\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"pom.xml\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v('<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\\n    <parent>\\n        <artifactId>cloud2020</artifactId>\\n        <groupId>com.ws.springcloud</groupId>\\n        <version>1.0-SNAPSHOT</version>\\n    </parent>\\n    <modelVersion>4.0.0</modelVersion>\\n\\n    <artifactId>cloud-config-server3344</artifactId>\\n\\n    <dependencies>\\n        <dependency>\\n            <groupId>com.ws.springcloud</groupId>\\n            <artifactId>api</artifactId>\\n            <version>${project.version}</version>\\n        </dependency>\\n\\n        <dependency>\\n            <groupId>org.springframework.boot</groupId>\\n            <artifactId>spring-boot-starter-actuator</artifactId>\\n        </dependency>\\n\\n        <dependency>\\n            <groupId>org.springframework.cloud</groupId>\\n            <artifactId>spring-cloud-starter-netflix-eureka-client</artifactId>\\n        </dependency>\\n\\n        \\x3c!--springCloud config--\\x3e\\n        <dependency>\\n            <groupId>org.springframework.cloud</groupId>\\n            <artifactId>spring-cloud-config-server</artifactId>\\n        </dependency>\\n\\n        <dependency>\\n            <groupId>org.springframework.boot</groupId>\\n            <artifactId>spring-boot-devtools</artifactId>\\n            <scope>runtime</scope>\\n            <optional>true</optional>\\n        </dependency>\\n\\n        <dependency>\\n            <groupId>org.springframework.boot</groupId>\\n            <artifactId>spring-boot-starter-test</artifactId>\\n            <scope>test</scope>\\n        </dependency>\\n    </dependencies>\\n</project>\\n')])])]),n(\"ul\",[n(\"li\",[t._v(\"yml\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-yml extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-yml\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[t._v(\"server\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[t._v(\"port\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"3344\")]),t._v(\"\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[t._v(\"spring\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[t._v(\"application\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[t._v(\"name\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" config\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"-\")]),t._v(\"server\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"-\")]),t._v(\"center\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[t._v(\"cloud\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[t._v(\"config\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[t._v(\"server\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[t._v(\"git\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"\\n          \"),n(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[t._v(\"uri\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" https\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"//github.com/lidagen/cloud\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"-\")]),t._v(\"config.git\\n          \"),n(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[t._v(\"ignoreLocalSshSettings\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token boolean important\"}},[t._v(\"true \")]),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#为了激活基于属性的SSH配置\")]),t._v(\"\\n          \"),n(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[t._v(\"search-paths\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"## 搜索目录\")]),t._v(\"\\n            \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"-\")]),t._v(\" cloud\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"-\")]),t._v(\"config\\n          \"),n(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[t._v(\"default-label\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" master \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#读取分支\")]),t._v(\"\\n       \\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[t._v(\"eureka\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[t._v(\"client\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[t._v(\"service-url\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#设置与eureka交互的地址查询服务和注册服务需要依赖这个地址\")]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[t._v(\"defaultZone\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" http\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"//eureka7001\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"7001/eureka/\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"http\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"//eureka7002\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"7002/eureka/\\n\\n\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"入口类\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-java extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"package\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"com\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"ws\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"springcloud\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"import\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"org\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"springframework\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"boot\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"SpringApplication\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"import\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"org\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"springframework\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"boot\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"autoconfigure\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"SpringBootApplication\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"import\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"org\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"springframework\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"cloud\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"config\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"server\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"EnableConfigServer\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"/**\\n * USER: wang_s\\n * DATE：2020/3/14\\n * DESC：\\n **/\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[t._v(\"@SpringBootApplication\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[t._v(\"@EnableConfigServer\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"class\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"ConfigServerCenter3344\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"static\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"void\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"main\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"String\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\" args\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"SpringApplication\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"run\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"ConfigServerCenter3344\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"class\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"args\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"启动eureka和cofigserver ,如果报 \"),n(\"code\",[t._v(\"reject HostKey: github.com\")]),t._v(\" ，请在github配置公钥\")]),t._v(\" \"),n(\"li\",[t._v(\"浏览器输入 \"),n(\"code\",[t._v(\"http://localhost:3344/master/application-prd.yml\")]),t._v(\" \"),n(\"code\",[t._v(\"http://localhost:3344/master/application-dev.yml\")]),t._v(\"查看是否获取值\")])])])}),[],!1,null,null,null);a.default=e.exports}}]);","extractedComments":[]}